{"mappings":"AACgB,MAAVA,EAAKC,SAASC,eAAe,cAC7BC,EAAYF,SAASG,cAAc,oBACnCC,EAAYJ,SAASG,cAAc,oBAGnCE,EAAoBC,OAAOC,WAAW,uBACtCC,EAAmBF,OAAOC,WAC9B,8CAEIE,EAAmBH,OAAOC,WAAW,sBAG3C,IAAIG,EAAQ,EACRC,EAAM,EAEJ,MAAAC,EAAY,CAChBC,QAAS,EACTC,gBAAiB,EACjBC,WAAY,IAGRC,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,IA2BhC,SAAPC,EAAWC,GAEdb,EAAkBc,UACpBR,EAAM,EACNC,EAAUG,WAAaK,KAAKC,KAAKH,EAAII,OAAS,IAE5Cd,EAAiBW,UACnBR,EAAM,EACNC,EAAUG,WAAaK,KAAKC,KAAKH,EAAII,OAAS,IAE5Cb,EAAiBU,UACnBR,EAAM,EACNC,EAAUG,WAAaK,KAAKC,KAAKH,EAAII,OAAS,IAG5CjB,EAAkBc,UACpBT,EAAkC,GAAzBE,EAAUC,QAAU,GAC7BF,EAAMD,EAAQ,GAEZF,EAAiBW,UACnBT,EAAkC,GAAzBE,EAAUC,QAAU,GAC7BF,EAAMD,EAAQ,GAEZD,EAAiBU,UACnBT,EAAkC,GAAzBE,EAAUC,QAAU,GAC7BF,EAAMD,EAAQ,GAGhB,MAAMK,WAAEA,EAAUF,QAAEA,EAASC,gBAAiBS,GAAUX,EAElDY,EAAQD,EAAQ,EAEtB,IAAIE,EAAS,GACTC,EAAgB,GAChBC,EAAM,sDACNC,EAAgB,EAEpB,MAAMC,EAAqBhB,EAAUU,EAC/BO,EAAsBjB,EAAUU,EAEtC,IAAIQ,EAAS,GACb,IAAK,IAAIC,EAAM,EAAGA,GAAOjB,EAAYiB,IACnCD,EAASC,IAAQnB,EAAU,SAAW,GAElCE,GAAc,EAAIS,EAAQ,EACxBK,EAAqB,GAAKC,EAAsBf,EAAa,EAAI,EAC/DiB,GAAOH,GAAsBG,GAAOF,IACtCJ,GAAiBO,EAAWD,EAAKD,IAIjClB,EAAWW,GAASQ,GAAOR,GAC1BX,EAAUE,EAAaS,GAASQ,GAAOjB,EAAaS,EAAQ,GAC7DQ,IAAQjB,GACA,IAARiB,EAEAP,GAAUQ,EAAWD,EAAKD,IAE1BH,IACsB,IAAlBA,IAAqBH,GAAUE,IAIvCF,GAAUQ,EAAWD,EAAKD,GAI1BL,GACFA,EACEO,EAAW,GAAKN,EAAMD,EAAgBC,EAAMM,EAAWlB,GACzDhB,EAAGmC,UAAYR,GAEf3B,EAAGmC,UAAYT,EA/FU,SAALU,GACtB,MAAMC,EAASD,EAAKE,MAAM3B,EAAOC,GAEjC2B,QAAQC,IAAIH,E,CA+FCI,CAAExB,E,CAIY,SAApBiB,EAAWQ,EAAOV,EAAS,IAClC,MAAO,uBAAuBA,iBAAsBU,4CAChBA,kB,CA0BxB,SAALC,IACmB,IAAtB9B,EAAUC,QACZT,EAAUuC,UAAW,EAErBvC,EAAUuC,UAAW,C,CAKzB,SAASC,IACHhC,EAAUC,UAAYD,EAAUG,WAClCb,EAAUyC,UAAW,EAErBzC,EAAUyC,UAAW,C,CAlJzB1B,EAAWD,GAUwBjB,EAAhC8C,iBAAiB,SAASC,MAAMC,IACjC,IACMA,EAAEC,OAAOC,QAAQC,OACnBtC,EAAUC,QAAUsC,SAASJ,EAAEC,OAAOC,QAAQC,KAAM,IAGrCjC,EAAJD,GACX0B,IACAE,I,CAEF,MAAOQ,GACPd,QAAQC,IAAIa,EAAMC,Q,KA2FRrD,SACXG,cAAc,mBACd0C,iBAAiB,SAAS,SAAUE,GAIvC,IAAsBO,KAHLP,EAAEC,QAILO,UAAUC,SAAS,cAC7B5C,EAAUC,UACV6B,IACAxC,EAAUyC,UAAW,EACrB1B,EAAWD,IACFsC,EAAQC,UAAUC,SAAS,eACpC5C,EAAUC,UACV+B,IACAxC,EAAUuC,UAAW,EACrB1B,EAAWD,G","sources":["src/js/pagination.js"],"sourcesContent":["//змінні пагінатора\nconst pg = document.getElementById('pagination');\nconst btnNextPg = document.querySelector('button.next-page');\nconst btnPrevPg = document.querySelector('button.prev-page');\n\n//параметри визначення ширину viewport\nconst matchMediaDesktop = window.matchMedia('(min-width: 1280px)');\nconst matchMediaTablet = window.matchMedia(\n  '(min-width: 768px) and (max-width: 1279px)'\n);\nconst matchMediaMobile = window.matchMedia('(max-width: 767px)');\n\n// let pageNumber = 1;\nlet start = 0; //начало slice\nlet end = 9; //кінець slice\n\nconst valuePage = {\n  curPage: 1, //поточна сторінка\n  numLinksTwoSide: 1, //кількість кнопок від вибраной до ...\n  totalPages: 20, // кількість кнопок пагінації в залежності від довжини массиву\n};\n\nconst array = [1, 2, 4, 5, 6, 8, 9, 10, 11, 12, 13];\npagination(array);\n\n//функція рендера, тестовий приклад\nfunction renderNewsList(news) {\n  const markup = news.slice(start, end);\n\n  console.log(markup);\n}\n\n// функція перемикання сторінок та рендера\npg.addEventListener('click', async e => {\n  try {\n    if (e.target.dataset.page) {\n      valuePage.curPage = parseInt(e.target.dataset.page, 10);\n\n      //виклик пагінації\n      pagination(array);\n      handleButtonLeft();\n      handleButtonRight();\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\n// ФУНКЦІЯ ПАГІНАЦІЇ\nfunction pagination(arr) {\n  //розрахунок кількості кнопок від довжини массиву\n  if (matchMediaDesktop.matches) {\n    end = 9;\n    valuePage.totalPages = Math.ceil(arr.length / 9);\n  }\n  if (matchMediaTablet.matches) {\n    end = 7;\n    valuePage.totalPages = Math.ceil(arr.length / 8);\n  }\n  if (matchMediaMobile.matches) {\n    end = 4;\n    valuePage.totalPages = Math.ceil(arr.length / 5);\n  }\n  //розрахунок старт та енд\n  if (matchMediaDesktop.matches) {\n    start = (valuePage.curPage - 1) * 9;\n    end = start + 9;\n  }\n  if (matchMediaTablet.matches) {\n    start = (valuePage.curPage - 1) * 8;\n    end = start + 8;\n  }\n  if (matchMediaMobile.matches) {\n    start = (valuePage.curPage - 1) * 4;\n    end = start + 4;\n  }\n\n  const { totalPages, curPage, numLinksTwoSide: delta } = valuePage;\n\n  const range = delta + 4; //\n\n  let render = '';\n  let renderTwoSide = '';\n  let dot = `<li class=\"pg-item\"><a class=\"pg-link\">...</a></li>`;\n  let countTruncate = 0; //\n\n  const numberTruncateLeft = curPage - delta;\n  const numberTruncateRight = curPage + delta;\n\n  let active = '';\n  for (let pos = 1; pos <= totalPages; pos++) {\n    active = pos === curPage ? 'active' : '';\n\n    if (totalPages >= 2 * range - 1) {\n      if (numberTruncateLeft > 3 && numberTruncateRight < totalPages - 3 + 1) {\n        if (pos >= numberTruncateLeft && pos <= numberTruncateRight) {\n          renderTwoSide += renderPage(pos, active);\n        }\n      } else {\n        if (\n          (curPage < range && pos <= range) ||\n          (curPage > totalPages - range && pos >= totalPages - range + 1) ||\n          pos === totalPages ||\n          pos === 1\n        ) {\n          render += renderPage(pos, active);\n        } else {\n          countTruncate++;\n          if (countTruncate === 1) render += dot;\n        }\n      }\n    } else {\n      render += renderPage(pos, active);\n    }\n  }\n\n  if (renderTwoSide) {\n    renderTwoSide =\n      renderPage(1) + dot + renderTwoSide + dot + renderPage(totalPages);\n    pg.innerHTML = renderTwoSide;\n  } else {\n    pg.innerHTML = render;\n  }\n  //виклик рендеру\n  renderNewsList(array);\n}\n\n// функція рендера кнопки пагінації\nfunction renderPage(index, active = '') {\n  return ` <li class=\"pg-item ${active}\" data-page=\"${index}\">\n        <a class=\"pg-link\" href=\"#\">${index}</a>\n    </li>`;\n}\n\n//функція кліку по button\ndocument\n  .querySelector('.page-container')\n  .addEventListener('click', function (e) {\n    handleButton(e.target);\n  });\n\nfunction handleButton(element) {\n  if (element.classList.contains('prev-page')) {\n    valuePage.curPage--;\n    handleButtonLeft();\n    btnNextPg.disabled = false;\n    pagination(array);\n  } else if (element.classList.contains('next-page')) {\n    valuePage.curPage++;\n    handleButtonRight();\n    btnPrevPg.disabled = false;\n    pagination(array);\n  }\n}\n\n//дисаблед на лево\nfunction handleButtonLeft() {\n  if (valuePage.curPage === 1) {\n    btnPrevPg.disabled = true;\n  } else {\n    btnPrevPg.disabled = false;\n  }\n}\n\n//дисаблед на право\nfunction handleButtonRight() {\n  if (valuePage.curPage === valuePage.totalPages) {\n    btnNextPg.disabled = true;\n  } else {\n    btnNextPg.disabled = false;\n  }\n}\n"],"names":["$1bab9c519cfa82bc$var$pg","document","getElementById","$1bab9c519cfa82bc$var$btnNextPg","querySelector","$1bab9c519cfa82bc$var$btnPrevPg","$1bab9c519cfa82bc$var$matchMediaDesktop","window","matchMedia","$1bab9c519cfa82bc$var$matchMediaTablet","$1bab9c519cfa82bc$var$matchMediaMobile","$1bab9c519cfa82bc$var$start","$1bab9c519cfa82bc$var$end","$1bab9c519cfa82bc$var$valuePage","curPage","numLinksTwoSide","totalPages","$1bab9c519cfa82bc$var$array","$1bab9c519cfa82bc$var$pagination","arr","matches","Math","ceil","length","delta","range","render","renderTwoSide","dot","countTruncate","numberTruncateLeft","numberTruncateRight","active","pos","$1bab9c519cfa82bc$var$renderPage","innerHTML","news","markup","slice","console","log","$1bab9c519cfa82bc$var$renderNewsList","index","$1bab9c519cfa82bc$var$handleButtonLeft","disabled","$1bab9c519cfa82bc$var$handleButtonRight","addEventListener","async","e","target","dataset","page","parseInt","error","message","element","classList","contains"],"version":3,"file":"index.d4fb1e6a.js.map"}