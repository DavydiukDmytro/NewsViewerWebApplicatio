{"mappings":"gfACA,IAAAA,EAAAC,EAAA,S,2BAMA,E,WAAAC,cAEA,IAAMC,EAAe,CACjBC,YAAaC,SAASC,cAAc,kBAGpCC,EAAwB,GACxBC,EAAoB,GAExBD,GAAwB,EAAAE,EAAAC,MAAK,YAC7BF,GAAoB,EAAAC,EAAAC,MAAK,QACzBC,QAAQC,IAAIL,IAEZ,EAAAP,EAAAa,eAAc,GAEd,IAAMC,GAAS,EAAAC,EAAAC,cAAaT,GAC5BJ,EAAaC,YAAYa,UAAYH,EAGrCX,EAAaC,YAAYc,iBAAiB,SAC1C,SAA8BC,GAC5B,IAAMC,EAASD,EAAEE,OAAOC,QAAQ,UAC1BC,EAAKJ,EAAEE,OAAOC,QAAQ,MAC1B,GAAIF,EAAQ,CACZ,IAAMI,EAAWJ,EAAOK,QAAQC,GAEhC,GAA4B,SADAN,EAAOK,QAAQE,SACP,CAClC,IAAMC,EAAYrB,EAAsBsB,WAAU,SAAAC,G,OAAQC,OAAOD,EAAKJ,MAAQF,C,IAC9EjB,EAAsByB,OAAOJ,EAAW,GACxCR,EAAOa,SAAS,GAAGR,QAAQE,SAAW,QACtCP,EAAOa,SAAS,GAAGR,QAAQE,SAAW,QACtCP,EAAOK,QAAQE,SAAW,QAC1BP,EAAOa,SAAS,GAAGC,YAAc,mBACjC,EAAAzB,EAAA0B,MAAK,WAAY5B,GAEjBC,EADaA,EACc4B,KAAI,SAAAC,GAI7B,OAHIN,OAAOM,EAAQX,MAAQF,IACzBa,EAAQV,SAAW,SAEdU,C,KAET,EAAA5B,EAAA0B,MAAK,OAAQ3B,E,CAEfW,EAAEE,OAAOC,QAAQ,MAAMgB,Q,CAEzB,GAA0B,MAAtBnB,EAAEE,OAAOkB,SAAkB,CAC7B,IAAMC,EAASrB,EAAEE,OAAOI,QAAQgB,IAC1BC,EAAoBvB,EAAEE,OAAOI,QAAQkB,KACrCC,EAAc,IAAIC,KAClBC,EAAOF,EAAYG,cACnBC,EAAQjB,OAAOa,EAAYK,WAAa,GAAGC,SAAS,EAAG,KACvDC,EAAMpB,OAAOa,EAAYQ,WAAWF,SAAS,EAAG,KAEhDG,EAAgB,GAAWC,OAARR,EAAK,KAAYQ,OAATN,EAAM,KAAOM,OAAJH,GAC1C,GAA0B,SAAtBT,EAA8B,CAChC,IAAMa,EAAY/C,EAAkBqB,WAAU,SAAAC,G,OAAQC,OAAOD,EAAKJ,MAAQc,C,IAC1EhC,EAAkB+C,GAAWC,YAAcH,GAC3C,EAAA5C,EAAA0B,MAAK,OAAQ3B,E,KACR,CACL,IAAMiD,EAAclD,EAAsBmD,MAAK,SAAA5B,G,OAAQC,OAAOD,EAAKJ,MAAQc,C,IAC3EiB,EAAYd,MAAO,EAGnBpC,EADaA,EACkB6B,KAAI,SAAAC,GAIjC,OAHIN,OAAOM,EAAQX,MAAQc,IACzBH,EAAQM,KAAO,QAEVN,C,KAET,EAAA5B,EAAA0B,MAAK,WAAY5B,GAEjBkD,EAAYD,YAAcH,EAC1BlC,EAAEE,OAAOI,QAAQkB,KAAO,OACxBnC,EAAkBmD,KAAKF,GACvBlC,EAAGE,QAAQkB,KAAO,QAClB,EAAAlC,EAAA0B,MAAK,OAAQ3B,E","sources":["src/favorite.js"],"sourcesContent":["// функція додавання класу is-active в залежності від переданого значення від 1-3\nimport { setActiveLink } from './js/is-active';\n// Додав функцію яка записую і повертає данні з localStorage\nimport { save, load } from './js/storage';\nimport { createMarkUp } from './js/markup';\nimport { themeCheck } from './js/themecheck';\n\nthemeCheck();\n\nconst refsFavoriet = {\n    sectionNews: document.querySelector('.section-news'),\n}\n\nlet arrayCardNewsFavorite = [];\nlet arrayCardNewsRead = [];\n\narrayCardNewsFavorite = load('favorite');\narrayCardNewsRead = load('read');\nconsole.log(arrayCardNewsFavorite);\n\nsetActiveLink(2);\n\nconst markp2 = createMarkUp(arrayCardNewsFavorite);\nrefsFavoriet.sectionNews.innerHTML = markp2;\n\n\nrefsFavoriet.sectionNews.addEventListener('click', onClickInSectionNews);\nfunction onClickInSectionNews(e) {\n  const button = e.target.closest('button');\n  const li = e.target.closest('li');\n    if (button) {\n    const buttonId = button.dataset.id;\n    const buttonDataAttribute = button.dataset.favorite;\n    if (buttonDataAttribute === 'true') {\n      const indexCard = arrayCardNewsFavorite.findIndex(card => String(card.id) === buttonId);\n      arrayCardNewsFavorite.splice(indexCard, 1);\n      button.children[1].dataset.favorite = 'false';\n      button.children[2].dataset.favorite = 'false';\n      button.dataset.favorite = 'false';\n      button.children[0].textContent = 'Add to favorite';\n      save('favorite', arrayCardNewsFavorite);\n      let array1 = arrayCardNewsRead;\n      arrayCardNewsRead = array1.map(element => {\n        if (String(element.id) === buttonId) {\n          element.favorite = \"false\";\n        }\n        return element\n      });\n      save('read', arrayCardNewsRead);\n    } \n    e.target.closest('li').remove();\n  }\n  if (e.target.nodeName === 'A') {\n    const linkId = e.target.dataset.ida;\n    const linkDataAttribute = e.target.dataset.read;\n    const currentDate = new Date();\n    const year = currentDate.getFullYear();\n    const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n    const day = String(currentDate.getDate()).padStart(2, '0');\n\n    const formattedDate = `${year}-${month}-${day}`;\n    if (linkDataAttribute === 'true') {\n      const indexCard = arrayCardNewsRead.findIndex(card => String(card.id) === linkId);\n      arrayCardNewsRead[indexCard].readed_date = formattedDate;\n      save('read', arrayCardNewsRead);\n    } else {\n      const cardNewRead = arrayCardNewsFavorite.find(card => String(card.id) === linkId);\n      cardNewRead.read = true;\n\n      let array2 = arrayCardNewsFavorite;\n      arrayCardNewsFavorite = array2.map(element => {\n        if (String(element.id) === linkId) {\n          element.read = \"true\";\n        }\n        return element\n      });\n      save('favorite', arrayCardNewsFavorite);\n\n      cardNewRead.readed_date = formattedDate;\n      e.target.dataset.read = 'true';\n      arrayCardNewsRead.push(cardNewRead);\n      li.dataset.read = 'true';\n      save('read', arrayCardNewsRead);\n    }\n  }\n}"],"names":["$kfjQ8","parcelRequire","themeCheck","$19661b0c25203147$var$refsFavoriet","sectionNews","document","querySelector","$19661b0c25203147$var$arrayCardNewsFavorite","$19661b0c25203147$var$arrayCardNewsRead","$jzQFI","load","console","log","setActiveLink","$19661b0c25203147$var$markp2","$1KhuP","createMarkUp","innerHTML","addEventListener","e","button","target","closest","li","buttonId","dataset","id","favorite","indexCard","findIndex","card","String","splice","children","textContent","save","map","element","remove","nodeName","linkId","ida","linkDataAttribute","read","currentDate","Date","year","getFullYear","month","getMonth","padStart","day","getDate","formattedDate","concat","indexCard1","readed_date","cardNewRead","find","push"],"version":3,"file":"favorite.a45fcebe.js.map"}