function e(e,t){try{const a=JSON.stringify(t);localStorage.setItem(e,a)}catch(e){console.error("Oops, something went wrong: ",e.message)}}const t=e=>{try{const t=localStorage.getItem(e);return null===t?[]:JSON.parse(t)}catch(e){console.error("Oops, something went wrong: ",e.message)}};function a(e){return String(e).padStart(2,"0")}!function(){const e="theme";let t=!0;const a=document.querySelector("#theme-clicker"),n=document.querySelector("body");a.addEventListener("change",(function(){n.classList.toggle("dark"),t=!t,localStorage.setItem(e,t)})),null!==localStorage.getItem(e)&&(t=JSON.parse(localStorage.getItem(e))),t?a.checked=!1:(n.classList.add("dark"),a.checked=!0)}();const n={sectionNews:document.querySelector(".section-news")};let s=[],r=[];s=t("favorite"),r=t("read"),console.log(s),function(e){const t=document.querySelectorAll(".header__link");switch(t.forEach((e=>{e.classList.remove("header__link--active")})),e){case 1:t[0].classList.add("header__link--active");break;case 2:t[1].classList.add("header__link--active");break;case 3:t[2].classList.add("header__link--active");break;default:console.log('error. value in function "setActiveLink(`HERE`)" is incorrect')}}(2);const c=s.map((function(e){return"news"===e.flag?function({category:e,lead_paragraph:t,id:n,published_date:s,url:r,title:c,media:i,favorite:d,read:o}){const l="https://www.nytimes.com/",g=function(e){const t=new Date(`${e}`);return`${a(t.getUTCDate())}/${a(t.getUTCMonth()+1)}/${t.getUTCFullYear()}`}(s),_="https://i.postimg.cc/vZrscCZ0/tablet-1x.jpg";let h="";if(i)if(1===i.length){const e=i[0]["media-metadata"],[,,t]=e;h=t.url}else if(4===i.length){const e=i.find((e=>440===e.width));h=e?`${e.url}`:_}else{const e=i.find((e=>"master495"===e.subtype));h=e?`${l}${e.url}`:_}else h=_;let p="";return p="true"===String(d)?"Remove from favorite":"Add to favorite",`<li data-read="${o}" class="news-card">\n    <div class="news-card__image">\n     <div class="news-card__darkend" data-read="${o}"></div>\n      <img src="${h}" alt="News" />\n      <span class="news-card__category">${e}</span>\n      <span class="news-card__status" data-read="${o}">Already read\n      <svg class="news-card__icon-tick" width="18px" height="18px">\n       <use xlink:href="#icon-tick"></use>\n       </svg>\n      </span>\n      <span class="news-card__status--have" data-read="${o}">Have read</span>\n      <button data-id="${n}" data-favorite="${d}" class="news-card__favorite">\n        <span>${p}</span>\n        <svg class="news-card__icon" data-favorite="${d}" width="16px" height="16px">\n      <use xlink:href="#icon-heart-empty"></use>\n         </svg>\n         <svg class="news-card__icon-full" data-favorite="${d}" width="16px" height="16px">\n              <use xlink:href="#icon-heart-full"></use>\n            </svg>\n      </button>\n    </div>\n    <div class="news-card__wrapper">\n    <h2 class="news-card__title">\n      ${c}\n    </h2>\n    <p class="news-card__text">\n      ${t}\n    </p>    \n      <div class="news-card__box">\n        <span class="news-card__date">${g}</span>\n        <a data-ida="${n}" target="_blank" data-read="${o}" class="news-card__read" href="${r}">Read more</a>\n      </div>\n    </div>\n  </li>`}(e):function({temp:e,descriptrion:t,city:a,icon:n,dayWeek:s,date:r}){return`<li class="weather__card">\n    <div class="weather__wrapper">\n      <p class="weather__temperature">${e}Â°</p>\n      <div class="weather__box">\n        <p class="weather__description">${t}</p>\n        <div class="weather__city">\n            <svg class="weather__location-icon">\n              <path d="M16 2.001c-6.072 0.007-10.992 4.927-11 10.998v0.001c0 0.005 0 0.011 0 0.017 0 2.486 0.833 4.777 2.236 6.61l-0.019-0.026s0.3 0.395 0.348 0.45l8.435 9.95 8.439-9.953c0.044-0.053 0.345-0.447 0.345-0.447l0.001-0.004c1.383-1.806 2.216-4.098 2.216-6.583 0-0.005 0-0.009 0-0.014v0.001c-0.007-6.072-4.928-10.993-11-11h-0.001zM16 17c-2.209 0-4-1.791-4-4s1.791-4 4-4v0c2.209 0 4 1.791 4 4s-1.791 4-4 4v0z"></path>\n            </svg>\n            ${a}\n        </div>\n    </div>\n  </div>\n<img class="weather-picture" src="https://openweathermap.org/img/wn/${n}@2x.png"></img>\n  <p class="weather__day">${s}</p>\n  <p class="weather__date">${r}</p>\n</li>`}(e)})).join("");n.sectionNews.innerHTML=c,n.sectionNews.addEventListener("click",(function(t){const a=t.target.closest("button"),n=t.target.closest("li");if(a){const n=a.dataset.id;if("true"===a.dataset.favorite){const t=s.findIndex((e=>String(e.id)===n));s.splice(t,1),a.children[1].dataset.favorite="false",a.children[2].dataset.favorite="false",a.dataset.favorite="false",a.children[0].textContent="Add to favorite",e("favorite",s),r=r.map((e=>(String(e.id)===n&&(e.favorite="false"),e))),e("read",r)}t.target.closest("li").remove()}if("A"===t.target.nodeName){const a=t.target.dataset.ida,c=t.target.dataset.read,i=new Date,d=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),l=String(i.getDate()).padStart(2,"0"),g=`${d}-${o}-${l}`;if("true"===c){const t=r.findIndex((e=>String(e.id)===a));r[t].readed_date=g,e("read",r)}else{const c=s.find((e=>String(e.id)===a));c.read=!0,s=s.map((e=>(String(e.id)===a&&(e.read="true"),e))),e("favorite",s),c.readed_date=g,t.target.dataset.read="true",r.push(c),n.dataset.read="true",e("read",r)}}}));
//# sourceMappingURL=favorite.83a381d5.js.map
