{"mappings":"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","sources":["src/favorite.js","src/js/not-found.js"],"sourcesContent":["// функція додавання класу is-active в залежності від переданого значення від 1-3\nimport { setActiveLink } from './js/is-active';\n// Додав функцію яка записую і повертає данні з localStorage\nimport { save, load } from './js/storage';\nimport { createMarkUp } from './js/markup';\nimport { themeCheck } from './js/themecheck';\n//import функції відображання помилки та її зникнення\nimport { showPageNotFound, hidePageNotFound } from './js/not-found';\n\nthemeCheck();\n\nconst refsFavoriet = {\n    sectionNews: document.querySelector('.section-news'),\n}\n\nlet arrayCardNewsFavorite = [];\nlet arrayCardNewsRead = [];\n\narrayCardNewsFavorite = load('favorite');\narrayCardNewsRead = load('read');\n\nsetActiveLink(2);\n\nconst markp2 = createMarkUp(arrayCardNewsFavorite);\nrefsFavoriet.sectionNews.innerHTML = markp2;\n\n\nrefsFavoriet.sectionNews.addEventListener('click', onClickInSectionNews);\nfunction onClickInSectionNews(e) {\n  const button = e.target.closest('button');\n  const li = e.target.closest('li');\n    if (button) {\n    const buttonId = button.dataset.id;\n    const buttonDataAttribute = button.dataset.favorite;\n    if (buttonDataAttribute === 'true') {\n      const indexCard = arrayCardNewsFavorite.findIndex(card => String(card.id) === buttonId);\n      arrayCardNewsFavorite.splice(indexCard, 1);\n      button.children[1].dataset.favorite = 'false';\n      button.children[2].dataset.favorite = 'false';\n      button.dataset.favorite = 'false';\n      button.children[0].textContent = 'Add to favorite';\n      save('favorite', arrayCardNewsFavorite);\n      let array1 = arrayCardNewsRead;\n      arrayCardNewsRead = array1.map(element => {\n        if (String(element.id) === buttonId) {\n          element.favorite = \"false\";\n        }\n        return element\n      });\n      save('read', arrayCardNewsRead);\n    } \n    e.target.closest('li').remove();\n  }\n  if (e.target.nodeName === 'A') {\n    const linkId = e.target.dataset.ida;\n    const linkDataAttribute = e.target.dataset.read;\n    const currentDate = new Date();\n    const year = currentDate.getFullYear();\n    const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n    const day = String(currentDate.getDate()).padStart(2, '0');\n\n    const formattedDate = `${year}-${month}-${day}`;\n    if (linkDataAttribute === 'true') {\n      const indexCard = arrayCardNewsRead.findIndex(card => String(card.id) === linkId);\n      arrayCardNewsRead[indexCard].readed_date = formattedDate;\n      save('read', arrayCardNewsRead);\n    } else {\n      const cardNewRead = arrayCardNewsFavorite.find(card => String(card.id) === linkId);\n      cardNewRead.read = true;\n\n      let array2 = arrayCardNewsFavorite;\n      arrayCardNewsFavorite = array2.map(element => {\n        if (String(element.id) === linkId) {\n          element.read = \"true\";\n        }\n        return element\n      });\n      save('favorite', arrayCardNewsFavorite);\n\n      cardNewRead.readed_date = formattedDate;\n      e.target.dataset.read = 'true';\n      arrayCardNewsRead.push(cardNewRead);\n      li.dataset.read = 'true';\n      save('read', arrayCardNewsRead);\n    }\n  }\n}\n\n//Открытие мобильного меню \n\n(() => {\nconst btnMenu = document.querySelector(\"[data-menu-button]\");\n  const menuContainer = document.querySelector(\"[data-menu]\");\n  const body1 = document.querySelector('body');\n  \n\nbtnMenu.addEventListener(\"click\", () => {\nconst expanded =\nbtnMenu.getAttribute(\"aria-expanded\") === \"true\" || false;\n\nbtnMenu.classList.toggle(\"is-open\");\nbtnMenu.setAttribute(\"aria-expanded\", !expanded);\n\n  menuContainer.classList.toggle(\"is-open\");\n  body1.classList.toggle('scroll');\n});\n})();\n\n//запрет скролла при открытии моб меню \n\nconst menuContainer = document.querySelector('.menu__container');\nconst bodyEl = document.querySelector('body')\n\nmenuContainer.addEventListener('click', (event) => {\nif (menuContainer.classList.contains('.is-open')) {\nbodyEl.classList.add('.is-modal');\n} else {\nbodyEl.classList.remove('.is-modal');\n}\n});","const refs2 = {\n  noNewsPage: document.querySelector('.news-page'),\n  noNewsPageTitle: document.querySelector('.news-page__title'),\n}\n\n// показати сторінку поt found\nexport function showPageNotFound(message) {\n  refs2.noNewsPage.style.display = 'block';\n  refs2.noNewsPageTitle.textContent = message;\n}\n\n// сховати сторінку поt found\nexport function hidePageNotFound() {\n  refs2.noNewsPage.style.display = 'none';\n  refs2.noNewsPageTitle.textContent = '';\n}"],"names":["$kfjQ8","parcelRequire","document","querySelector","$6QU98","themeCheck","$19661b0c25203147$var$refsFavoriet","sectionNews","$19661b0c25203147$var$arrayCardNewsFavorite","$19661b0c25203147$var$arrayCardNewsRead","$jzQFI","load","setActiveLink","btnMenu","menuContainer1","body1","$19661b0c25203147$var$markp2","$1KhuP","createMarkUp","innerHTML","addEventListener","e","button","target","closest","li","buttonId","dataset","id","favorite","indexCard","findIndex","card","String","splice","children","textContent","save","map","element","remove","nodeName","linkId","ida","linkDataAttribute","read","currentDate","Date","year","getFullYear","month","getMonth","padStart","day","getDate","formattedDate","concat","indexCard1","readed_date","cardNewRead","find","push","expanded","getAttribute","classList","toggle","setAttribute","$19661b0c25203147$var$menuContainer","$19661b0c25203147$var$bodyEl","event","contains","add"],"version":3,"file":"favorite.39440dae.js.map"}