function e(e){return e&&e.__esModule?e.default:e}function t({category:e,lead_paragraph:t,id:s,published_date:a,url:i,title:r,media:o,favorite:c,read:l}){const d=n(a),u="https://i.postimg.cc/vZrscCZ0/tablet-1x.jpg";let h="";if(o)if(1===o.length){const e=o[0]["media-metadata"],[,,t]=e;h=t.url}else if(4===o.length){const e=o.find((e=>440===e.width));h=e?`${e.url}`:u}else{const e=o.find((e=>"master495"===e.subtype));h=e?`https://www.nytimes.com/${e.url}`:u}else h=u;let f="";return f="true"===String(c)?"Remove from favorite":"Add to favorite",`<li data-read="${l}" class="news-card">\n    <div class="news-card__image">\n     <div class="news-card__darkend" data-read="${l}"></div>\n      <img src="${h}" alt="News" loading="lazy" />\n      <span class="news-card__category">${e}</span>\n      <span class="news-card__status" data-read="${l}">Already read\n      <svg class="news-card__icon-tick" width="18px" height="18px">\n       <use xlink:href="#icon-tick"></use>\n       </svg>\n      </span>\n      <span class="news-card__status--have" data-read="${l}">Have read</span>\n      <button data-id="${s}" data-favorite="${c}" class="news-card__favorite">\n        <span>${f}</span>\n        <svg class="news-card__icon" data-favorite="${c}" width="16px" height="16px">\n      <use xlink:href="#icon-heart-empty"></use>\n         </svg>\n         <svg class="news-card__icon-full" data-favorite="${c}" width="16px" height="16px">\n              <use xlink:href="#icon-heart-full"></use>\n            </svg>\n      </button>\n    </div>\n    <div class="news-card__wrapper">\n    <h2 class="news-card__title">\n      ${r}\n    </h2>\n    <p class="news-card__text">\n      ${t}\n    </p>    \n      <div class="news-card__box">\n        <span class="news-card__date">${d}</span>\n        <a data-ida="${s}" target="_blank" data-read="${l}" class="news-card__read" href="${i}">Read more</a>\n      </div>\n    </div>\n  </li>`}function n(e){const t=new Date(`${e}`);return`${s(t.getUTCDate())}/${s(t.getUTCMonth()+1)}/${t.getUTCFullYear()}`}function s(e){return String(e).padStart(2,"0")}var a,i,r,o={};function c(e,t){try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Oops, something went wrong: ",e.message)}}a=window,i=0,r=function e(t,n){var s=this,a=this,r=!1;if(Array.isArray(t))return!!t.length&&t.map((function(t){return new e(t,n)}));var o={init:function(){this.options=Object.assign({duration:600,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",beforeOpen:function(){},onOpen:function(){},beforeClose:function(){},onClose:function(){}},n);var e="string"==typeof t;this.container=e?document.querySelector(t):t,this.createDefinitions(),a.attachEvents()},createDefinitions:function(){var e=this,t=this.options,n=t.elementClass,s=t.openOnInit,a=t.onlyChildNodes?this.container.childNodes:this.container.querySelectorAll(d(n));this.elements=Array.from(a).filter((function(e){return e.classList&&e.classList.contains(n)})),this.firstElement=this.elements[0],this.lastElement=this.elements[this.elements.length-1],this.elements.filter((function(e){return!e.classList.contains("js-enabled")})).forEach((function(t){t.classList.add("js-enabled"),e.generateIDs(t),e.setARIA(t),e.setTransition(t);var n=e.elements.indexOf(t);i++,s.includes(n)?e.showElement(t,!1):e.closeElement(t,!1)}))},setTransition:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.options,s=n.duration,a=n.panelClass,i=e.querySelector(d(a)),r=c("transitionDuration");i.style[r]=t?null:"".concat(s,"ms")},generateIDs:function(e){var t=this.options,n=t.triggerClass,s=t.panelClass,a=e.querySelector(d(n)),r=e.querySelector(d(s));e.setAttribute("id",e.id||"ac-".concat(i)),a.setAttribute("id",a.id||"ac-trigger-".concat(i)),r.setAttribute("id",r.id||"ac-panel-".concat(i))},removeIDs:function(e){var t=this.options,n=t.triggerClass,s=t.panelClass,a=e.querySelector(d(n)),i=e.querySelector(d(s));e.id.startsWith("ac-")&&e.removeAttribute("id"),a.id.startsWith("ac-")&&a.removeAttribute("id"),i.id.startsWith("ac-")&&i.removeAttribute("id")},setARIA:function(e){var t=this.options,n=t.ariaEnabled,s=t.triggerClass,a=t.panelClass;if(n){var i=e.querySelector(d(s)),r=e.querySelector(d(a));i.setAttribute("role","button"),i.setAttribute("aria-controls",r.id),i.setAttribute("aria-disabled",!1),i.setAttribute("aria-expanded",!1),r.setAttribute("role","region"),r.setAttribute("aria-labelledby",i.id)}},updateARIA:function(e,t){var n=t.ariaExpanded,s=t.ariaDisabled,a=this.options,i=a.ariaEnabled,r=a.triggerClass;if(i){var o=e.querySelector(d(r));o.setAttribute("aria-expanded",n),o.setAttribute("aria-disabled",s)}},removeARIA:function(e){var t=this.options,n=t.ariaEnabled,s=t.triggerClass,a=t.panelClass;if(n){var i=e.querySelector(d(s)),r=e.querySelector(d(a));i.removeAttribute("role"),i.removeAttribute("aria-controls"),i.removeAttribute("aria-disabled"),i.removeAttribute("aria-expanded"),r.removeAttribute("role"),r.removeAttribute("aria-labelledby")}},focus:function(e,t){e.preventDefault();var n=this.options.triggerClass;t.querySelector(d(n)).focus()},focusFirstElement:function(e){this.focus(e,this.firstElement),this.currFocusedIdx=0},focusLastElement:function(e){this.focus(e,this.lastElement),this.currFocusedIdx=this.elements.length-1},focusNextElement:function(e){var t=this.currFocusedIdx+1;if(t>this.elements.length-1)return this.focusFirstElement(e);this.focus(e,this.elements[t]),this.currFocusedIdx=t},focusPrevElement:function(e){var t=this.currFocusedIdx-1;if(t<0)return this.focusLastElement(e);this.focus(e,this.elements[t]),this.currFocusedIdx=t},showElement:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.options,s=n.panelClass,a=n.activeClass,i=n.collapse,r=n.beforeOpen;t&&r(e);var o=e.querySelector(d(s)),c=o.scrollHeight;e.classList.add(a),requestAnimationFrame((function(){requestAnimationFrame((function(){o.style.height=t?"".concat(c,"px"):"auto"}))})),this.updateARIA(e,{ariaExpanded:!0,ariaDisabled:!i})},closeElement:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.options,s=n.panelClass,a=n.activeClass,i=n.beforeClose,r=e.querySelector(d(s)),o=r.scrollHeight;e.classList.remove(a),t?(i(e),requestAnimationFrame((function(){r.style.height="".concat(o,"px"),requestAnimationFrame((function(){r.style.height=0}))}))):r.style.height=0,this.updateARIA(e,{ariaExpanded:!1,ariaDisabled:!1})},toggleElement:function(e){var t=this.options,n=t.activeClass,s=t.collapse,a=e.classList.contains(n);if(!a||s)return a?this.closeElement(e):this.showElement(e)},closeElements:function(){var e=this,t=this.options,n=t.activeClass;t.showMultiple||this.elements.forEach((function(t,s){t.classList.contains(n)&&s!==e.currFocusedIdx&&e.closeElement(t)}))},handleClick:function(e){var t=this,n=e.currentTarget;this.elements.forEach((function(s,a){s.contains(n)&&"A"!==e.target.nodeName&&(t.currFocusedIdx=a,t.closeElements(),t.focus(e,s),t.toggleElement(s))}))},handleKeydown:function(e){switch(e.key){case"ArrowUp":return this.focusPrevElement(e);case"ArrowDown":return this.focusNextElement(e);case"Home":return this.focusFirstElement(e);case"End":return this.focusLastElement(e);default:return null}},handleFocus:function(e){var t=e.currentTarget,n=this.elements.find((function(e){return e.contains(t)}));this.currFocusedIdx=this.elements.indexOf(n)},handleTransitionEnd:function(e){if(e.stopPropagation(),"height"===e.propertyName){var t=this.options,n=t.onOpen,s=t.onClose,a=e.currentTarget,i=parseInt(a.style.height),r=this.elements.find((function(e){return e.contains(a)}));i>0?(a.style.height="auto",n(r)):s(r)}}};this.attachEvents=function(){if(!r){var e=o.options,t=e.triggerClass,n=e.panelClass;o.handleClick=o.handleClick.bind(o),o.handleKeydown=o.handleKeydown.bind(o),o.handleFocus=o.handleFocus.bind(o),o.handleTransitionEnd=o.handleTransitionEnd.bind(o),o.elements.forEach((function(e){var s=e.querySelector(d(t)),a=e.querySelector(d(n));s.addEventListener("click",o.handleClick),s.addEventListener("keydown",o.handleKeydown),s.addEventListener("focus",o.handleFocus),a.addEventListener("webkitTransitionEnd",o.handleTransitionEnd),a.addEventListener("transitionend",o.handleTransitionEnd)})),r=!0}},this.detachEvents=function(){if(r){var e=o.options,t=e.triggerClass,n=e.panelClass;o.elements.forEach((function(e){var s=e.querySelector(d(t)),a=e.querySelector(d(n));s.removeEventListener("click",o.handleClick),s.removeEventListener("keydown",o.handleKeydown),s.removeEventListener("focus",o.handleFocus),a.removeEventListener("webkitTransitionEnd",o.handleTransitionEnd),a.removeEventListener("transitionend",o.handleTransitionEnd)})),r=!1}},this.toggle=function(e){var t=o.elements[e];t&&o.toggleElement(t)},this.open=function(e){var t=o.elements[e];t&&o.showElement(t)},this.openAll=function(){var e=o.options,t=e.activeClass,n=e.onOpen;o.elements.forEach((function(e){e.classList.contains(t)||(o.showElement(e,!1),n(e))}))},this.close=function(e){var t=o.elements[e];t&&o.closeElement(t)},this.closeAll=function(){var e=o.options,t=e.activeClass,n=e.onClose;o.elements.forEach((function(e){e.classList.contains(t)&&(o.closeElement(e,!1),n(e))}))},this.destroy=function(){s.detachEvents(),s.openAll(),o.elements.forEach((function(e){o.removeIDs(e),o.removeARIA(e),o.setTransition(e,!0)})),r=!0},this.update=function(){o.createDefinitions(),s.detachEvents(),s.attachEvents()};var c=function(e){return"string"==typeof document.documentElement.style[e]?e:(e=l(e),e="webkit".concat(e))},l=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},d=function(e){return".".concat(CSS.escape(e))};o.init()},void 0!==o?o=r:a.Accordion=r;const l=e=>{try{const t=localStorage.getItem(e);return null===t?[]:JSON.parse(t)}catch(e){console.error("Oops, something went wrong: ",e.message)}};const d={noNewsPage:document.querySelector(".news-page"),noNewsPageTitle:document.querySelector(".news-page__title")};!function(){const e="theme";let t=!0;const n=document.querySelector("#theme-clicker"),s=document.querySelector("body");n.addEventListener("change",(function(){s.classList.toggle("dark"),t=!t,localStorage.setItem(e,t)})),null!==localStorage.getItem(e)&&(t=JSON.parse(localStorage.getItem(e))),t?n.checked=!1:(s.classList.add("dark"),n.checked=!0)}(),function(e){const t=document.querySelectorAll(".header__link"),n=document.querySelector(".search-form"),s=document.querySelector(".search-button__mobile");switch(t.forEach((e=>{e.classList.remove("header__link--active")})),e){case 1:t[0].classList.add("header__link--active");break;case 2:t[1].classList.add("header__link--active"),n.remove(),s.remove();break;case 3:n.remove(),s.remove(),t[2].classList.add("header__link--active");break;default:console.log('error. value in function "setActiveLink(`HERE`)" is incorrect')}}(3);const u=document.querySelector(".wrapper");let h=[];var f;h=l("read"),h.length<1&&(f="Sorry, but there is nothing here yet!",d.noNewsPage.style.display="block",d.noNewsPageTitle.textContent=f);let m=h.map((e=>(e.read="read",e))),v=[];v=l("favorite"),u.innerHTML=m.map((e=>e.readed_date)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>{return`<div class="accordion-container">\n          <div class="ac">\n            <span class="ac-header">\n              <button type="button" class="ac-trigger">\n                ${n(e)}\n              </button>\n            </span>\n            <div class="ac-panel"> \n                <ul class="section-news">                      \n                ${s=e,m.filter((e=>e.readed_date===s)).map((function(e){return t(e)})).join("")}  \n                </ul>            \n            </div>\n          </div>\n        </div>`;var s})).join("");const g=document.querySelectorAll(".accordion-container"),p=Array.from(g);new(e(o))(p,{duration:600,showMultiple:!0});m.length<1&&console.log("erorr");document.querySelector(".section-news").addEventListener("click",(function(e){const t=e.target.closest("button");e.target.closest("li");if(t){const e=t.dataset.id;if("true"===t.dataset.favorite){const n=v.findIndex((t=>String(t.id)===e));v.splice(n,1),t.children[1].dataset.favorite="false",t.children[2].dataset.favorite="false",t.dataset.favorite="false",t.children[0].textContent="Add to favorite",c("favorite",v),m=m.map((t=>(t.read="true",String(t.id)===e&&(t.favorite="false"),t))),c("read",m)}else{const n=m.find((t=>String(t.id)===e));n.favorite=!0,n.read="true",v.push(n),t.children[1].dataset.favorite="true",t.children[2].dataset.favorite="true",t.dataset.favorite="true",t.children[0].textContent="Remove from favoriet",c("favorite",v),m=m.map((t=>(t.read="true",String(t.id)===e&&(t.favorite="true"),t))),c("read",m)}}if("A"===e.target.nodeName){const t=e.target.dataset.ida,n=e.target.dataset.read,s=new Date,a=s.getFullYear(),i=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0"),o=`${a}-${i}-${r}`;if("true"===n){const e=m.findIndex((e=>String(e.id)===t));m[e].readed_date=o,v=m.map((e=>(e.read="true",e))),c("read",m)}}})),(()=>{const e=document.querySelector("[data-menu-button]"),t=document.querySelector("[data-menu]"),n=document.querySelector("body");e.addEventListener("click",(()=>{const s="true"===e.getAttribute("aria-expanded")||!1;e.classList.toggle("is-open"),e.setAttribute("aria-expanded",!s),t.classList.toggle("is-open"),n.classList.toggle("scroll")}))})();const y=document.querySelector(".menu__container"),E=document.querySelector("body");y.addEventListener("click",(e=>{y.classList.contains(".is-open")?E.classList.add(".is-modal"):E.classList.remove(".is-modal")}));
//# sourceMappingURL=read.310df265.js.map
