{"mappings":"AAAO,SAASA,EAAKC,EAAKC,GACxB,IACE,MAAMC,EAAWC,KAAKC,UAAUH,GAChCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,+BAAgCA,EAAME,Q,ECwPjD,SAASC,EAAeT,GAC7B,OAAOU,OAAOV,GAAOW,SAAS,EAAG,I,CCxPnC,MAAMC,EAAe,CACjBC,YAAaC,SAASC,cAAc,kBAGxC,IAAIC,EAAwB,GAE5BA,EFHoB,CAAAjB,IAClB,IACE,MAAME,EAAWG,aAAaa,QAAQlB,GACtC,OAAiB,OAAbE,EACK,GAEFC,KAAKgB,MAAMjB,E,CAClB,MAAOK,GACPC,QAAQD,MAAM,+BAAgCA,EAAME,Q,GELhC,CAAK,YAC7BD,QAAQY,IAAIH,GCbL,SAAuBI,GAC5B,MAAMC,EAAQP,SAASQ,iBAAiB,iBAMP,OAJjCD,EAAME,SAAQC,IACZA,EAAKC,UAAUC,OAAO,uBAAuB,IAGxCN,GACL,KAAK,EACHC,EAAM,GAAGI,UAAUE,IAAI,wBACvB,MACF,KAAK,EACHN,EAAM,GAAGI,UAAUE,IAAI,wBACvB,MACF,KAAK,EACHN,EAAM,GAAGI,UAAUE,IAAI,wBACvB,MACF,QACEpB,QAAQY,IAAI,iE,CDHlB,CAAc,GAEd,MAAMS,EAAsBZ,EDWvBa,KAAI,SAAUC,GACb,MAAkB,SAAdA,EAAKC,KAsHI,UAACC,SAClBA,EAAQC,eACRA,EAAcC,GACdA,EAAEC,eACFA,EAAcC,IACdA,EAAGC,MACHA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,KACRA,IAEA,MAAMC,EAAU,2BACVC,EAuFD,SAAuBP,GAC5B,MAAMO,EAAO,IAAIC,KAAK,GAAGR,KACzB,MAAO,GAAG1B,EAAeiC,EAAKE,iBAAiBnC,EAC7CiC,EAAKG,cAAgB,MAClBH,EAAKI,kB,CA3FGC,CAAcZ,GACrBa,EAAa,8CACnB,IAAIC,EAAM,GACV,GAAKX,EAEE,GAAqB,IAAjBA,EAAMY,OAAc,CAC7B,MACMC,EADWb,EAAM,GACG,mBACpB,EAAKc,GAASD,EACpBF,EAAMG,EAAMhB,G,MACP,GAAqB,IAAjBE,EAAMY,OAAc,CAC7B,MAAMG,EAAmBf,EAAMgB,MAAKxB,GAAuB,MAAfA,EAAKyB,QAE/CN,EADEI,EACI,GAAGA,EAAiBjB,MAEpBY,C,KAEH,CACL,MAAMQ,EAAqBlB,EAAMgB,MAAKxB,GAAyB,cAAjBA,EAAK2B,UAEjDR,EADEO,EACI,GAAGf,IAAUe,EAAmBpB,MAEhCY,C,MAlBRC,EAAMD,EAqBR,IAAIU,EAAa,GAMjB,OAJEA,GADe,IAAbnB,EACW,uBAEA,kBAER,+GAEyCC,8BAChCS,6DACwBjB,8DACSQ,uLAK1BN,qBAAsBK,kDAC/BmB,iEACsCnB,gKAGMA,4NAOpDF,wDAGAJ,8FAGgCS,kCACjBR,oCAAqCE,qD,CA7L7CuB,CAAW7B,GAmMN,UAAG8B,KAAEA,EAAIC,aAAEA,EAAYC,KAAEA,EAAIC,KAAEA,EAAIC,QAAEA,EAAOtB,KAAEA,IAChE,MAAO,yGAE+BkB,qFAEEC,6iBAK5BC,gHAIwDC,+CAC1CC,qCACCtB,c,CAjNduB,CAAcnC,E,IAGxBoC,KAAK,ICjBVtD,EAAaC,YAAYsD,UAAYvC,EAGrChB,EAAaC,YAAYuD,iBAAiB,SAC1C,SAA8BC,GAC5B,MAAMC,EAASD,EAAEE,OAAOC,QAAQ,UAC9B,GAAIF,EAAQ,CACZ,MAAMG,EAAWH,EAAOI,QAAQxC,GAEhC,GAA4B,SADAoC,EAAOI,QAAQnC,SACP,CAClC,MAAMoC,EAAY3D,EAAsB4D,WAAUC,GAAQnE,OAAOmE,EAAK3C,MAAQuC,IAC9EzD,EAAsB8D,OAAOH,EAAW,GACxCL,EAAOS,SAAS,GAAGL,QAAQnC,SAAW,QACtC+B,EAAOS,SAAS,GAAGL,QAAQnC,SAAW,QACtC+B,EAAOI,QAAQnC,SAAW,QAC1B+B,EAAOS,SAAS,GAAGC,YAAc,kBACjClF,EAAK,WAAYkB,E,CAEfqD,EAAEE,OAAOC,QAAQ,MAAM9C,Q,CAEH,MAAtB2C,EAAEE,OAAOU,UACX1E,QAAQY,IAAI,I","sources":["src/js/storage.js","src/js/markup.js","src/favorite.js","src/js/is-active.js"],"sourcesContent":["export function save(key, value){\n  try {\n    const dataSave = JSON.stringify(value);\n    localStorage.setItem(key, dataSave);\n  } catch (error) {\n    console.error('Oops, something went wrong: ', error.message); // пізніше замінити на сповіщення від Notiflix\n  }\n};\n\nexport const load = key => {\n  try {\n    const dataSave = localStorage.getItem(key);\n    if (dataSave === null) {\n      return [];\n    }\n    return JSON.parse(dataSave);\n  } catch (error) {\n    console.error('Oops, something went wrong: ', error.message); // пізніше замінити на сповіщення від Notiflix\n  }\n};\n\n\n","// =========Створення масиву новик+погоди========\nexport function concatNewsAndWeather(incomeArr, favoriteArr, readedArr, obj) {\n  const concatArray = [];\n  const checkedArray = checkArrays(incomeArr, favoriteArr, readedArr);\n  // console.log('Cheked arr:', checkedArray);\n  checkedArray.forEach(function (elem, index) {\n    if (window.innerWidth < 767) {\n      if (index === 0 && obj.flag === 'weather') {\n        concatArray.push(obj);\n      }\n    }\n    concatArray.push(dataDestructuring(elem));\n    if (window.innerWidth >= 1280) {\n      if (index === 1 && obj.flag === 'weather') {\n        concatArray.push(obj);\n      }\n    } else if (window.innerWidth >= 768) {\n      if (index === 0 && obj.flag === 'weather') {\n        concatArray.push(obj);\n      }\n    }\n  });\n  return concatArray;\n}\n\n// =========Створоення масиву з інлайном розмітки========\nexport function createMarkUp(array) {\n  return array\n    .map(function (elem) {\n      if (elem.flag === 'news') {\n        return newsMarkUp(elem);\n      } else {\n        return weatherMarkUp(elem);\n      }\n    })\n    .join('');\n}\n\n// ==========Перевірка масивів на вміст однакових обектів=========\nfunction checkArrays(incomeArr, favoriteArr, readedArr) {\n  let checkedArray = [];\n  for (let i = 0; i < incomeArr.length; i++) {\n    let newObj = { ...incomeArr[i] };\n    let id;\n    if (newObj.id) {\n      id = newObj.id;\n    } else if (newObj._id) {\n      id = newObj._id;\n    } else if (newObj.uri) {\n      id = newObj.uri;\n    }\n    let favObj = favoriteArr.find(obj => obj.id === id);\n\n    if (favObj) {\n      newObj.favorite = true;\n    }\n    let readObj = readedArr.find(obj => obj.id === incomeArr[i].id);\n\n    if (readObj) {\n      newObj.read = true;\n    }\n    checkedArray.push(newObj);\n  }\n  return checkedArray;\n}\n\n// ==========Деструктуризаця масивів новин===========\nfunction dataDestructuring(elem) {\n  if (elem.asset_id) {\n    const {\n      section: category,\n      abstract: lead_paragraph,\n      title,\n      asset_id: id,\n      url,\n      published_date,\n      media = undefined,\n      flag = 'news',\n      favorite = false,\n      read = false,\n    } = elem;\n    return {\n      category,\n      lead_paragraph,\n      id,\n      published_date,\n      title,\n      url,\n      media,\n      flag,\n      favorite,\n      read,\n    };\n  } else if (elem._id) {\n    const {\n      section_name: category,\n      lead_paragraph,\n      _id: id,\n      web_url: url,\n      pub_date: published_date,\n      headline: { main: title },\n      multimedia: media = undefined,\n      flag = 'news',\n      favorite = false,\n      read = false,\n    } = elem;\n    return {\n      category,\n      lead_paragraph,\n      id,\n      published_date,\n      url,\n      title,\n      media,\n      flag,\n      favorite,\n      read,\n    };\n  } else if (elem.slug_name) {\n    const {\n      section: category,\n      abstract: lead_paragraph,\n      uri: id,\n      url,\n      published_date,\n      title,\n      multimedia: media = undefined,\n      flag = 'news',\n      favorite = false,\n      read = false,\n    } = elem;\n    return {\n      category,\n      lead_paragraph,\n      id,\n      published_date,\n      url,\n      title,\n      media,\n      flag,\n      favorite,\n      read,\n    };\n  }\n}\n\n// ========Розмітка картки новин==========\nfunction newsMarkUp({\n  category,\n  lead_paragraph,\n  id,\n  published_date,\n  url,\n  title,\n  media,\n  favorite,\n  read,\n}) {\n  const IMG_URL = 'https://www.nytimes.com/';\n  const date = dateFormating(published_date);\n  const PLUG_IMAGE = 'https://i.postimg.cc/vZrscCZ0/tablet-1x.jpg';\n  let img = '';\n  if (!media) {\n    img = PLUG_IMAGE;\n  } else if (media.length === 1) {\n    const mediaObj = media[0];\n    const imageUrl = mediaObj['media-metadata'];\n    const [, , third] = imageUrl;\n    img = third.url;\n  } else if (media.length === 4) {\n    const searchRequestImg = media.find(elem => elem.width === 440);\n    if (searchRequestImg) {\n      img = `${searchRequestImg.url}`;\n    } else {\n      img = PLUG_IMAGE;\n    }\n  } else {\n    const categoryRequestImg = media.find(elem => elem.subtype === 'master495');\n    if (categoryRequestImg) {\n      img = `${IMG_URL}${categoryRequestImg.url}`;\n    } else {\n      img = PLUG_IMAGE;\n    }\n  }\n  let textButton = '';\n  if (favorite === true) {\n    textButton = 'Remove from favoriet'\n  } else {\n    textButton = 'Add to favorite'\n  }\n  return `<li class=\"news-card\">\n    <div class=\"news-card__image\">\n     <div class=\"news-card__darkend\" data-read=\"${read}\"></div>\n      <img src=\"${img}\" alt=\"News\" />\n      <span class=\"news-card__category\">${category}</span>\n      <span class=\"news-card__status\" data-read=\"${read}\">Have read\n      <svg class=\"news-card__icon-tick\" width=\"18px\" height=\"18px\">\n       <use xlink:href=\"#icon-tick\"></use>\n       </svg>\n      </span>\n      <button data-id=\"${id}\" data-favorite=\"${favorite}\" class=\"news-card__favorite\">\n        <span>${textButton}</span>\n        <svg class=\"news-card__icon\" data-favorite=\"${favorite}\" width=\"16px\" height=\"16px\">\n      <use xlink:href=\"#icon-heart-empty\"></use>\n         </svg>\n         <svg class=\"news-card__icon-full\" data-favorite=\"${favorite}\" width=\"16px\" height=\"16px\">\n              <use xlink:href=\"#icon-heart-full\"></use>\n            </svg>\n      </button>\n    </div>\n    <div class=\"news-card__wrapper\">\n    <h2 class=\"news-card__title\">\n      ${title}\n    </h2>\n    <p class=\"news-card__text\">\n      ${lead_paragraph}\n    </p>    \n      <div class=\"news-card__box\">\n        <span class=\"news-card__date\">${date}</span>\n        <a data-ida=\"${id}\" class=\"news-card__read\" href=\"${url}\">Read more</a>\n      </div>\n    </div>\n  </li>`;\n}\n// ========Розмітка картки погоди==========\nfunction weatherMarkUp({ temp, descriptrion, city, icon, dayWeek, date }) {\n  return `<li class=\"weather__card\">\n    <div class=\"weather__wrapper\">\n      <p class=\"weather__temperature\">${temp}°</p>\n      <div class=\"weather__box\">\n        <p class=\"weather__description\">${descriptrion}</p>\n        <div class=\"weather__city\">\n            <svg class=\"weather__location-icon\">\n              <path d=\"M16 2.001c-6.072 0.007-10.992 4.927-11 10.998v0.001c0 0.005 0 0.011 0 0.017 0 2.486 0.833 4.777 2.236 6.61l-0.019-0.026s0.3 0.395 0.348 0.45l8.435 9.95 8.439-9.953c0.044-0.053 0.345-0.447 0.345-0.447l0.001-0.004c1.383-1.806 2.216-4.098 2.216-6.583 0-0.005 0-0.009 0-0.014v0.001c-0.007-6.072-4.928-10.993-11-11h-0.001zM16 17c-2.209 0-4-1.791-4-4s1.791-4 4-4v0c2.209 0 4 1.791 4 4s-1.791 4-4 4v0z\"></path>\n            </svg>\n            ${city}\n        </div>\n    </div>\n  </div>\n<img class=\"weather-picture\" src=\"https://openweathermap.org/img/wn/${icon}@2x.png\"></img>\n  <p class=\"weather__day\">${dayWeek}</p>\n  <p class=\"weather__date\">${date}</p>\n</li>`;\n}\n\n// ========Форматування дати у дд/мм/рррр====\nexport function dateFormating(published_date) {\n  const date = new Date(`${published_date}`);\n  return `${addLeadingZero(date.getUTCDate())}/${addLeadingZero(\n    date.getUTCMonth() + 1\n  )}/${date.getUTCFullYear()}`;\n}\n// ========Додавання 0 якщо число з 1 символу=========\nexport function addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}","// функція додавання класу is-active в залежності від переданого значення від 1-3\nimport { setActiveLink } from './js/is-active';\n// Додав функцію яка записую і повертає данні з localStorage\nimport { save, load } from './js/storage';\nimport { createMarkUp } from './js/markup';\n\nconst refsFavoriet = {\n    sectionNews: document.querySelector('.section-news'),\n}\n\nlet arrayCardNewsFavorite = [];\n\narrayCardNewsFavorite = load('favorite');\nconsole.log(arrayCardNewsFavorite);\n\nsetActiveLink(2);\n\nconst markp2 = createMarkUp(arrayCardNewsFavorite);\nrefsFavoriet.sectionNews.innerHTML = markp2;\n\n\nrefsFavoriet.sectionNews.addEventListener('click', onClickInSectionNews);\nfunction onClickInSectionNews(e) {\n  const button = e.target.closest('button');\n    if (button) {\n    const buttonId = button.dataset.id;\n    const buttonDataAttribute = button.dataset.favorite;\n    if (buttonDataAttribute === 'true') {\n      const indexCard = arrayCardNewsFavorite.findIndex(card => String(card.id) === buttonId);\n      arrayCardNewsFavorite.splice(indexCard, 1);\n      button.children[1].dataset.favorite = 'false';\n      button.children[2].dataset.favorite = 'false';\n      button.dataset.favorite = 'false';\n      button.children[0].textContent = 'Add to favorite';\n      save('favorite', arrayCardNewsFavorite);\n    } \n        e.target.closest('li').remove();\n  }\n  if (e.target.nodeName === 'A') {\n    console.log('A');\n  }\n}","export function setActiveLink(linkNumber) {\n  const links = document.querySelectorAll('.header__link'); \n  \n  links.forEach(link => {\n    link.classList.remove('header__link--active'); // видаляємо у всіх header__link--active \n  });\n  // додаємо клас header__link--active в залежності від значення linkNumber\n  switch(linkNumber) {\n    case 1:\n      links[0].classList.add('header__link--active');\n      break;\n    case 2:\n      links[1].classList.add('header__link--active');\n      break;\n    case 3:\n      links[2].classList.add('header__link--active');\n      break;\n    default:\n      console.log('error. value in function \"setActiveLink(`HERE`)\" is incorrect');// помилка якщо передано не правильне значення linkNumber\n  }\n}\n\n"],"names":["$3fff5e8daf4b13a6$export$a1544dad697b423d","key","value","dataSave","JSON","stringify","localStorage","setItem","error","console","message","$263aef85a4d00bfb$export$b69ee541cb46e797","String","padStart","$f2929da3ca31033d$var$refsFavoriet","sectionNews","document","querySelector","$f2929da3ca31033d$var$arrayCardNewsFavorite","getItem","parse","log","linkNumber","links","querySelectorAll","forEach","link","classList","remove","add","$f2929da3ca31033d$var$markp2","map","elem","flag","category","lead_paragraph","id","published_date","url","title","media","favorite","read","IMG_URL","date","Date","getUTCDate","getUTCMonth","getUTCFullYear","$263aef85a4d00bfb$export$e46283126ae68d28","PLUG_IMAGE","img","length","imageUrl","third","searchRequestImg","find","width","categoryRequestImg","subtype","textButton","$263aef85a4d00bfb$var$newsMarkUp","temp","descriptrion","city","icon","dayWeek","$263aef85a4d00bfb$var$weatherMarkUp","join","innerHTML","addEventListener","e","button","target","closest","buttonId","dataset","indexCard","findIndex","card","splice","children","textContent","nodeName"],"version":3,"file":"favorite.c7c7d4b6.js.map"}